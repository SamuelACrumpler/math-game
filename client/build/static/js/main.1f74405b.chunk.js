(this["webpackJsonpmath-game"]=this["webpackJsonpmath-game"]||[]).push([[0],{39:function(e,t,s){},58:function(e,t,s){},63:function(e,t,s){},66:function(e,t,s){"use strict";s.r(t);var o=s(0),a=s(1),n=s.n(a),r=s(31),c=s.n(r),i=(s(39),s(32)),l=s(2),h=s(11),m=s(12),d=s(8),u=s(14),b=s(13),g=function(e){Object(u.a)(s,e);var t=Object(b.a)(s);function s(e){var o;return Object(h.a)(this,s),(o=t.call(this,e)).state={name:"",ops:[],min:"",max:"",firstR:localStorage.getItem("from"),lastR:localStorage.getItem("from"),op:"",first:"",second:"",answer:"",input:"",seconds:30,score:0},o.onChange=o.onChange.bind(Object(d.a)(o)),o.countDown=o.countDown.bind(Object(d.a)(o)),o}return Object(m.a)(s,[{key:"componentDidMount",value:function(){var e=this;if(console.log(localStorage.getItem("garr")),null!==localStorage.getItem("garr")&&localStorage.getItem("garr")){var t=localStorage.getItem("min"),s=parseInt(localStorage.getItem("max")),o=localStorage.getItem("garr").split(","),a=[];console.log(o),"true"===o[4]?(console.log("tabletime"),this.setState({min:t,max:s,first:t,second:t,op:"*",ops:"Multiplcation Table",answer:t*t,seconds:0,type:"table"},(function(){console.log("multime"),e.timer=setInterval(e.countDown,1e3)}))):(console.log(o[0]),"true"===o[0]&&(a+="+"),"true"===o[1]&&(a+="-"),"true"===o[2]&&(a+="/"),"true"===o[3]&&(a+="*"),this.setState({min:t,max:s+1,type:"rand",ops:a,seconds:60},(function(){e.getRandomProblem(),e.timer=setInterval(e.countDown,1e3)})))}else this.props.history.push("/")}},{key:"getNextTableProblem",value:function(){if(this.state.second+""===this.state.max+""&&this.state.first+""===this.state.max+"")localStorage.setItem("score",this.state.score),localStorage.setItem("seconds",this.state.seconds),this.props.history.push("/scores");else if(this.state.second+""===this.state.max+""){var e=parseInt(this.state.first)+1;this.setState({first:e,second:this.state.min,answer:e*this.state.min})}else{var t=parseInt(this.state.second)+1;this.setState({second:t,answer:this.state.first*t})}}},{key:"getRandomProblem",value:function(){var e=this.state.ops,t=Math.floor(Math.random()*(this.state.max-this.state.min)+this.state.min),s=Math.floor(Math.random()*(this.state.max-this.state.min)+this.state.min),o=e[Math.floor(Math.random()*e.length)],a="";switch(o){case"+":a=t+s;break;case"-":a=t-s;break;case"/":0===s&&(s+=1),a=Math.round(100*(t/s+Number.EPSILON))/100;break;case"*":a=t*s}this.setState({first:t,second:s,op:o,answer:a})}},{key:"countDown",value:function(){var e=this.state.seconds;e="table"===this.state.type?this.state.seconds+1:this.state.seconds-1,this.setState({seconds:e}),0===this.state.seconds&&(clearInterval(this.timer),localStorage.setItem("score",this.state.score),this.props.history.push("/scores"))}},{key:"countUp",value:function(){var e=this.state.seconds+1;this.setState({seconds:e})}},{key:"onChange",value:function(e){var t=this.state;if(t[e.target.name]=e.target.value,this.setState(t),this.state.input===this.state.answer+""){"table"===this.state.type?this.getNextTableProblem():this.getRandomProblem();var s=this.state.score+1;this.setState({input:"",score:s})}}},{key:"render",value:function(){return Object(o.jsxs)("div",{className:"container p-2 shadow rounded bg-light",children:[Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"col-2",children:Object(o.jsxs)("h3",{children:["Score: ",this.state.score]})}),Object(o.jsx)("div",{className:"col-8 text-center",children:Object(o.jsx)("h3",{children:this.state.ops})}),Object(o.jsx)("div",{className:"col-2",children:Object(o.jsxs)("h3",{className:"text-right",children:["Time: ",this.state.seconds]})})]}),Object(o.jsx)("div",{className:"text-center mb-4",children:Object(o.jsx)("h3",{children:this.state.first+" "+this.state.op+" "+this.state.second})}),Object(o.jsx)("div",{children:Object(o.jsx)("input",{type:"number",name:"input",value:this.state.input,onChange:this.onChange,className:"form-control",autocomplete:"off",autoFocus:!0})})]})}}]),s}(a.Component),p=function(e){Object(u.a)(s,e);var t=Object(b.a)(s);function s(e){var o;return Object(h.a)(this,s),(o=t.call(this,e)).state={name:"",ops:[!1,!1,!1,!1,!1],min:"",max:"",error:""},o.onChange=o.onChange.bind(Object(d.a)(o)),o.onInput=o.onInput.bind(Object(d.a)(o)),o}return Object(m.a)(s,[{key:"componentDidMount",value:function(){this.doesNameExist(),localStorage.removeItem("garr"),localStorage.removeItem("min"),localStorage.removeItem("max"),localStorage.removeItem("score"),localStorage.removeItem("seconds")}},{key:"doesNameExist",value:function(){""===localStorage.getItem("name")&&null===localStorage.getItem("name")||this.setState({name:localStorage.getItem("name")})}},{key:"onChange",value:function(e){var t=this.state;t[e.target.name]=e.target.value,console.log(e.target.type),this.setState(t)}},{key:"onInput",value:function(e){var t=this.state,s=e.target.value;console.log("vc: "+s),(""===s||/^[0-9\b]+$/.test(s))&&(console.log("reggy works"),t[e.target.name]=s,this.setState(t))}},{key:"enableOperation",value:function(e){var t=this.state.ops;if(4!==e)t[e]=!t[e],t[4]=!1,document.getElementById("btn4").classList.contains("disabled")||document.getElementById("btn4").classList.add("disabled"),this.checkButton(e),this.setState({ops:t});else if(4===e){for(var s=0;s<=3;s++)t[s]=!1,document.getElementById("btn"+s).classList.contains("disabled")||document.getElementById("btn"+s).classList.add("disabled");t[4]=!0,document.getElementById("btn4").classList.contains("disabled")&&document.getElementById("btn4").classList.remove("disabled")}console.log(this.state.ops),console.log(this.state.ops[0]+this.state.ops[1]),console.log(""+this.state.ops[0]+this.state.ops[1])}},{key:"checkButton",value:function(e){document.getElementById("btn"+e).classList.contains("disabled")?document.getElementById("btn"+e).classList.remove("disabled"):document.getElementById("btn"+e).classList.add("disabled")}},{key:"onConfirm",value:function(){var e=this.state.ops;console.log(e),console.log(e[0]+e[1]+e[2]+e[3]+e[4]);try{if(""===this.state.name)throw"Name is blank.";if(""===this.state.min)throw"From number value is blank.";if(""===this.state.max)throw"To number value is blank.";if("number"!==typeof parseInt(this.state.min))throw"The value in the From input is not a number.";if("number"!==typeof parseInt(this.state.max))throw"The value in the To input is not a number.";if(this.state.min>=this.state.max)throw"From number value most be lower than the To number value.";if(this.state.max<=this.state.min)throw"To number value most be higher than the From number value.";if(e[0]+e[1]+e[2]+e[3]+e[4]===0)throw"Select the game options before proceeding."}catch(t){return this.setState({error:t}),void(null!==document.getElementById("error")&&document.getElementById("error").classList.remove("d-none"))}localStorage.setItem("name",this.state.name),localStorage.setItem("garr",this.state.ops),localStorage.setItem("min",this.state.min),localStorage.setItem("max",this.state.max),this.props.history.push("/game")}},{key:"render",value:function(){var e=this;return Object(o.jsxs)("div",{className:"container shadow p-2 rounded bg-light",children:[Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col mb-3",children:Object(o.jsx)("input",{type:"text",placeholder:"name",name:"name",value:this.state.name,onChange:this.onChange,className:"form-control"})})}),Object(o.jsx)("div",{className:"row col mb-3 m-0 p-0",children:Object(o.jsx)("div",{className:"col-12 text-center",children:Object(o.jsx)("h1",{children:"Math Game"})})}),Object(o.jsx)("div",{className:"text-center",children:Object(o.jsxs)("p",{children:["A simple math game. The player chooses the operations they want to practice with. For example clicking on addition and subtraction would only produce addition and subtraction problems. Solutions for the problems can go into the negative values, and the game will avoid dividing by zero. If the number would result in a decimal value, it will be rounded up to the second decimal point. The player would have a total of 60 seconds to score as high as they can. The high scores will be stored based on the operations the player selects and the number range.",Object(o.jsx)("br",{})," ",Object(o.jsx)("br",{}),"The multiplication table option will go through all possible problems from the start of the number range, to the end of it. For example if the number range is set at 1 to 12, the first problem will be 1x1, the last will be 12x12. On the multiplication table there will be 5 seconds added for each problem, also the scoreboard will be entirely localized "]})}),Object(o.jsxs)("div",{className:"row col mb-3 m-0 p-0",children:[Object(o.jsx)("div",{className:"col-12 text-center",children:Object(o.jsx)("h3",{children:"Click on the buttons below to set the game mode."})}),Object(o.jsxs)("div",{className:"col-12 text-center",children:[Object(o.jsx)("button",{id:"btn0",class:"btn btn-primary ml-1 mr-1 disabled",onClick:function(){return e.enableOperation(0)},children:"+"}),Object(o.jsx)("button",{id:"btn1",class:"btn btn-primary ml-1 mr-1 disabled",onClick:function(){return e.enableOperation(1)},children:"-"}),Object(o.jsx)("button",{id:"btn2",class:"btn btn-primary ml-1 mr-1 disabled",onClick:function(){return e.enableOperation(2)},children:"/"}),Object(o.jsx)("button",{id:"btn3",class:"btn btn-primary ml-1 mr-1 disabled",onClick:function(){return e.enableOperation(3)},children:"*"})]})]}),Object(o.jsx)("div",{className:"row col mb-3 m-0 p-0",children:Object(o.jsx)("div",{className:"col-12 text-center",children:Object(o.jsx)("button",{id:"btn4",class:"btn btn-primary ml-1 mr-1 disabled",onClick:function(){return e.enableOperation(4)},children:"Multiplication Tables"})})}),Object(o.jsxs)("div",{className:"row col mb-3 m-0 p-0",children:[Object(o.jsxs)("div",{className:"col-12 text-center",children:[Object(o.jsx)("h3",{children:"Number Range"}),Object(o.jsx)("p",{})]}),Object(o.jsx)("div",{className:"col-md-6",children:Object(o.jsxs)("div",{class:"input-group mb-3",children:[Object(o.jsx)("div",{class:"input-group-prepend",children:Object(o.jsx)("span",{class:"input-group-text",id:"basic-addon1",children:"From"})}),Object(o.jsx)("input",{value:this.state.min,name:"min",onInput:this.onInput,class:"form-control",placeholder:"","aria-label":"From","aria-describedby":"basic-addon1"})]})}),Object(o.jsx)("div",{className:"col-md-6",children:Object(o.jsxs)("div",{class:"input-group mb-3",children:[Object(o.jsx)("div",{class:"input-group-prepend",children:Object(o.jsx)("span",{class:"input-group-text",id:"basic-addon2",children:"To"})}),Object(o.jsx)("input",{value:this.state.max,name:"max",onInput:this.onInput,class:"form-control",placeholder:"","aria-label":"To","aria-describedby":"basic-addon2"})]})})]}),Object(o.jsxs)("div",{id:"error",className:"alert alert-danger text-center d-none",children:["Error: ",this.state.error]}),Object(o.jsx)("button",{class:"btn btn-primary w-100",onClick:function(){return e.onConfirm()},children:" Submit"})]})}}]),s}(a.Component),j=s(10),f=s.n(j),v=function(e){Object(u.a)(s,e);var t=Object(b.a)(s);function s(e){var o;Object(h.a)(this,s),o=t.call(this,e);var a=window.location.href.split("/"),n=a[0]+"//"+a[2];return o.state={word:"",input:"",scores:[],gid:"",bname:"",count:0,gametype:"",table:!1,path:n},o}return Object(m.a)(s,[{key:"componentDidMount",value:function(){var e=this;if(console.log(this.state.path+"/api/"),null!==localStorage.getItem("garr")&&localStorage.getItem("garr")){var t=localStorage.getItem("garr").split(","),s=localStorage.getItem("min"),o=localStorage.getItem("max"),a="",n=[];if("true"===t[4])console.log("tabletime"),a="m"+s+"*"+o,this.setState({table:!0});else{"true"===t[0]&&n.push("A"),"true"===t[1]&&n.push("S"),"true"===t[2]&&n.push("D"),"true"===t[3]&&n.push("M"),console.log(n),this.setState({table:!1});for(var r=0;r<n.length;r++)a=a+n[r]+"";a=a+"R"+s+"-"+o}console.log("test"+a),this.setState({gid:a},(function(){e.saveScore()}))}else this.props.history.push("/")}},{key:"saveScore",value:function(){var e=this,t=this.state.table,s=this.state.gid,o=localStorage.getItem("name"),a=localStorage.getItem("score"),n=null;localStorage.getItem("seconds")&&(n=parseInt(localStorage.getItem("seconds"))),console.log("nametest: "+o),console.log("score "+a),console.log("id "+this.state.gid),localStorage.removeItem("score"),localStorage.removeItem("seconds"),localStorage.removeItem("garr"),f.a.get(this.state.path+"/api/score/count/"+s).then((function(t){e.setState({count:t.data})})).finally((function(){e.state.count>=10?(console.log("count "+e.state.count),f.a.get(e.state.path+"/api/score/board/"+s).then((function(t){e.setState({scores:t.data})})).finally((function(){var r=e.state.scores;console.log("b"),console.log(r),r.sort((function(e,t){return e.timer-t.timer})),console.log("1"),console.log(r);var c=!1;if(!0===t){for(var i=9;0!==i;i--){if(console.log("tick "+i),console.log(r),console.log("scorecheck cur/iscore"),console.log(a),console.log(r[i].score),!0===c)return;if(console.log("breakcheck check:  "+c),n<r[i].timer&&!0===t){console.log("timer sort"),f.a.put(e.state.path+"/api/score/"+r[i]._id,{gid:s,name:o,score:a,timer:n}),c=!0;var l={};l.gid=s,l.name=o,l.score=a,l.timer=n,console.log(r),r.sort((function(e,t){return e.timer-t.timer})),console.log(r),r.splice(r.length-1,1),r.push(l),r.sort((function(e,t){return e.timer-t.timer}));for(i=0;i<r.length;i++)r[i].score="----";console.log(r),e.setState({scores:r})}}if(!1===c){var h=e.state.scores;h.sort((function(e,t){return e.timer-t.timer}));for(i=0;i<h.length;i++)h[i].score="----";e.setState({scores:h})}}else if(!1===t)for(i=0;i<10;i++){if(console.log("tick "+i),console.log(r),console.log("scorecheck cur/iscore"),console.log(a),console.log(r[i].score),!0===c)return;if(console.log("breakcheck check:  "+c),a>r[i].score&&!1===t){f.a.put(e.state.path+"/api/score/"+r[i]._id,{gid:s,name:o,score:a,timer:n}),c=!0;var m={};m.gid=s,m.name=o,m.score=a,m.timer=n,r.splice(r.length-1,1),r.push(m),r.sort((function(e,t){return t.score-e.score}));for(i=0;i<r.length;i++)r[i].timer="----";e.setState({scores:r})}}if(!1===c){var d=e.state.scores;d.sort((function(e,t){return t.score-e.score}));for(i=0;i<d.length;i++)d[i].timer="----";e.setState({scores:d})}}))):(!1===t&&null!==a||!0===t&&null!==n)&&f.a.post(e.state.path+"/api/score/",{gid:s,name:o,score:a,timer:n}).finally((function(){e.getScores()}))}))}},{key:"getScores",value:function(){var e=this;f.a.get(this.state.path+"/api/score/board/"+this.state.gid).then((function(t){var s=t.data;if(console.log(e.state.table),!1===e.state.table){s.sort((function(e,t){return t.score-e.score}));for(var o=0;o<s.length;o++)s[o].timer="----"}else{console.log("sort timer"),s.sort((function(e,t){return t.timer-e.timer}));for(o=0;o<s.length;o++)s[o].score="----"}e.setState({scores:s})}))}},{key:"onConfirm",value:function(){this.props.history.push("/")}},{key:"render",value:function(){var e=this;return Object(o.jsxs)("div",{className:"container p-2 shadow rounded bg-light",children:[Object(o.jsx)("div",{className:"text-center",children:Object(o.jsxs)("h3",{children:["Top Scores For ",this.state.bname]})}),Object(o.jsx)("div",{className:"",children:Object(o.jsxs)("table",{className:"table",children:[Object(o.jsx)("thead",{className:"thead-dark",children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{scope:"col",children:"Rank"}),Object(o.jsx)("th",{scope:"col",children:"Name"}),Object(o.jsx)("th",{scope:"col",children:"Score"}),Object(o.jsx)("th",{scope:"col",children:"Time"})]})}),this.state.scores.map((function(e,t){return Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:t+1},t),Object(o.jsx)("td",{children:e.name}),Object(o.jsx)("td",{children:e.score}),Object(o.jsx)("td",{children:e.timer})]})}))]})}),Object(o.jsx)("div",{children:Object(o.jsx)("button",{class:"btn btn-primary w-100",onClick:function(){return e.onConfirm()},children:"Return"})})]})}}]),s}(a.Component);s(58);var x=function(){return Object(o.jsx)("main",{className:"main full-height h-100 w-100",children:Object(o.jsxs)(i.a,{children:[Object(o.jsx)(l.b,{path:"/",component:Object(l.f)(p),exact:!0}),Object(o.jsx)(l.b,{path:"/game",component:Object(l.f)(g)}),Object(o.jsx)(l.b,{path:"/scores",component:Object(l.f)(v)}),Object(o.jsx)(l.b,{render:function(){return Object(o.jsx)(l.a,{to:{pathname:"/"}})}})]})})},O=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,67)).then((function(t){var s=t.getCLS,o=t.getFID,a=t.getFCP,n=t.getLCP,r=t.getTTFB;s(e),o(e),a(e),n(e),r(e)}))};s(30),s(63),s(64),s(65);c.a.render(Object(o.jsx)(n.a.StrictMode,{children:Object(o.jsx)(x,{})}),document.getElementById("root")),O()}},[[66,1,2]]]);
//# sourceMappingURL=main.1f74405b.chunk.js.map